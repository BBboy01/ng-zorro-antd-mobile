<section class="code-box" [ngClass]="{'expand':nzExpanded, 'code-box-target':nzSelected}" [attr.id]="nzId">
  <section class="code-box-meta markdown">
    <div class="code-box-title">
      <a>
        {{ nzTitle }}
        <a class="edit-button" [attr.href]="nzHref" target="_blank">
          <i nz-icon nzType="edit"></i>
        </a>
      </a>
    </div>
    <ng-content select="[intro]"></ng-content>
  </section>
  <div class="code-box-actions" style="position: relative; top: 0">
    <span
      class="code-box-code-copy"
      style="opacity: 1;"
      nz-icon
      nz-tooltip
      [nzTooltipTitle]="'Edit On StackBlitz'"
      nzType="form"
      (click)="openOnStackBlitz()"
    ></span>
    <span
      class="code-box-code-copy"
      style="opacity: 1;"
      nz-icon
      nz-tooltip
      [nzTooltipTitle]="'Copy Code'"
      [nzType]="_copied ? 'check' : 'copy'"
      (click)="copyCode()"
    ></span>
    <span
      *ngIf="nzGenerateCommand"
      class="code-box-code-copy"
      style="opacity: 1;"
      nz-icon
      nz-tooltip
      [nzTooltipTitle]="'Copy Generate Command'"
      [nzType]="_commandCopied ? 'check' : 'code'"
      (click)="copyGenerateCommand(nzGenerateCommand)"
    ></span>
    <span
      class="code-expand-icon"
      nz-tooltip
      [nzTooltipTitle]="nzExpanded ? 'Hide Code' : 'Show Code'"
      (click)="expandCode(!nzExpanded)"
      >
        <img
          alt="expand code"
          src="https://gw.alipayobjects.com/zos/rmsportal/wSAkBuJFbdxsosKKpqyq.svg"
          [class.code-expand-icon-show]="nzExpanded"
          [class.code-expand-icon-hide]="!nzExpanded"
        />
        <img
          alt="expand code"
          src="https://gw.alipayobjects.com/zos/rmsportal/OpROPHYqWmrMDBFMZtKF.svg"
          [class.code-expand-icon-show]="!nzExpanded"
          [class.code-expand-icon-hide]="nzExpanded"
        />
      </span>
  </div>
  <section class="highlight-wrapper" [class.highlight-wrapper-expand]="nzExpanded">
    <div class="highlight">
      <ng-content select="[code]"></ng-content>
      <nz-highlight [nzCode]="codeLoaded ? _code : 'Loading'" [nzLanguage]="'typescript'"></nz-highlight>
    </div>
  </section>
</section>